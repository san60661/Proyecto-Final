<% if  @reserves.size == 0 %>
    <h3> No hay reservas para mostrar </h3>

    <td><%=link_to 'Volver', root_path, class: 'btn btn-secondary btn-sm' %></td>
<% else %>
<body>
	<table class="table table-striped table-dark">
  	<thead>
    <tr>
        <th scope="col">Nombre</th>
        <th scope="col">Fecha</th>
        <th scope="col"> <span class="oi oi-trash"></span></th>
		</tr>
  	</thead>
  	<tbody>
		<% @reserves.each do |reserve| %>
            <tr>
            <td><%= Residence.find(reserve.residence_id).name %> </td>
            <td><%= reserve.date.to_date %></td>
            <% if reserve.date.to_date > Date.today+30 %>
                <td><%= link_to 'Cancelar reserva', reserve, method: :delete, class: 'btn btn-danger btn-sm', data: { confirm: '¿Realmente querés cancelar la reserva?'} %></td> 
            <% else %>
                <td><%=link_to 'No es posible cancelar reserva', reserves_path, class: 'btn btn-secondary btn-sm' %></td>
            <% end %>
            </tr>
        <% end %>
  	</tbody>
	</table>
 	<td><%=link_to 'Volver', root_path, class: 'btn btn-secondary btn-sm' %></td>
</body>

<% end %>
